stages:
  - format-lint-check 


image: "rust:latest"

build-code-job:
  stage: format-lint-check 
  script:
    - echo "Check the rust and cargo version:"
    - rustc --version && cargo --version
    - echo "Add rustfmt"
    - rustup component add rustfmt
    - echo "Check formt"
    - cd localnative-rs && cargo fmt-check
    - echo "Check code lint"
    - cargo olint
    - cargo wlint
  only:
    - branches
    - tags
    - merge_requests
